> 懒加载是什么？有何优缺点？如何实现？

懒加载顾名思义，就是浏览器滚到哪里就显示哪里，没滚到的地方的资源先不加载。简单来说，按需加载

很多大型应用所用资源数量是庞大的，可能首页有2000张图片，如果一打开就马上就请求所有资源，那么页面会发送卡顿，迟缓，服务器也可能会短时间“宕机”。并且很多资源用户可能不需要，这样一次全部请求也造成了资源的浪费和流量的浪费。

懒加载就通过检测页面元素是否在可视区？不请求在可视区外的资源，降低请求量，将资源请求控制起来，已解决上面的情况。

这里以图片的src属性方案的懒加载来说，添加class结合css也是ok的。

1. 首先相关的属性有img的src,data-src。src通常设置为1px的loading图片作为默认内容,data-src类似占位符，存放目标图片的url，也是获取元素的一个标记。
2. 懒加载的核心就是如何检测img是否在可视区，为阐述方便，不考虑宽度。抽象来看，就是 B <= A <= B+h。A：元素距离文档顶部的距离，B：可视区距离文档顶部的距离，h：可视区高度。简化一下 0 <= A - B <= h ，let isv =A - B <= h ? true : false。
3. 监听scroll或者resize执行检测逻辑（不考虑低版本的兼容可以采用*Intersection observer*），当为真时就请求相关资源填到data-src，并将data-src值的放到src上。

